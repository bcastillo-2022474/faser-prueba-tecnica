<div class="container">
  <h1>Prueba t√©cnica - Estudio Faser</h1>
  <h2>Listado de tareas</h2>
  <h2>Agregar Tarea</h2>
  <div class="flex">
    <input #inputTarea type="text" placeholder="tarea">
    <input #inputTime type="number" placeholder="tiempo">
  </div>
  <button (click)="addTask()">Agregar Tarea</button>

  <div>
    <button (click)="this.tableService.sortAleatory(this.titles)" class="px-2 py-1 bg-black text-white">Ordenar
      Aleatoriamente
    </button>
  </div>

  <div>
    <button (click)="selectAll()">Seleccionar todas</button>
  </div>
  <div>
    <button (click)="deleteSelectedTasks()">Eliminar todas las seleccionadas</button>
  </div>
  <div style="display: flex; gap: 1rem">
    <button (click)="markSelectedTasks(true)">Destacar todas las seleccionadas</button>
    <button (click)="markSelectedTasks(false)">Quitar destacado de todas las seleccionadas</button>
    <button (click)="markSelectedTasks()">Toggle destacado de todas las seleccionadas</button>
  </div>
  <table *ngIf="tareas !== undefined" #table>
    <thead>
    <tr>
      <th (click)="title.sortFunction(title)" *ngFor="let title of titles">
        <span>{{title.name | titlecase}}</span>
        <i [hidden]="title.direction === 'down' || !title.sorting"
           class="text-[10px] bg-[#f3f4f6] rounded-sm p-1 text-black fa-solid fa-chevron-up">^</i>
        <i [hidden]="title.direction === 'up' || !title.sorting"
           class="text-[10px] bg-[#f3f4f6] rounded-sm p-1 text-black fa-solid fa-chevron-down">v</i>
      </th>
      <th>Acciones</th>
      <th>Seleccionar</th>
    </tr>
    </thead>
    <tbody>
    <tr [style.background-color]="tarea.mark ? 'red' : ''" *ngFor="let tarea of tareas">
      <td *ngFor="let title of titles">{{tarea[title.prop]}}</td>
      <td style="display: flex; gap: 1rem" class="flex gap-2">
        <span (click)="deleteTask(tarea)">Eliminar</span>
        <span (click)="markTask(tarea)">Marcar</span>
      </td>
      <td><input [(ngModel)]="tarea.selected" type="checkbox"></td>
    </tr>

    </tbody>
  </table>

</div>
